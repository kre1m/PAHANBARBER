# ๐ง ะะะะขะะงะะกะะะ ะจะะะ ะะะฏ ะะะจะะะะฏ ะะะะะะะะซ

## ะัะพะฑะปะตะผะฐ: ะะฐะทะฝัะต ะฐะบะบะฐัะฝัั ะธะผะตัั ะพะดะธะฝะฐะบะพะฒัะต ID ะฒ localStorage

---

## โก ะะซะกะขะะะ ะะะจะะะะ (5 ะผะธะฝัั)

### 1๏ธโฃ ะััะฐะฝะพะฒะธัะต ัะตัะฒะตั
```
ะะฐะบัะพะนัะต ะพะบะฝะพ ัะตัะฒะตัะฐ ะธะปะธ ะฒัะฟะพะปะฝะธัะต:
Ctrl+C ะฒ ะพะบะฝะต ะณะดะต ะทะฐะฟััะตะฝ node server.js

ะะะ ะธัะฟะพะปัะทัะนัะต PowerShell:
Get-Process node | Stop-Process -Force
```

### 2๏ธโฃ ะะตัะตัะพะทะดะฐะนัะต ะะ (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะตัะปะธ ะฟัะพะฑะปะตะผะฐ ะบัะธัะธัะฝะฐ)
```
cd server
node reset-db.js
```

### 3๏ธโฃ ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะตั
```
cd server
node server.js
```

ะั ะดะพะปะถะฝั ัะฒะธะดะตัั ะฒ ะบะพะฝัะพะปะธ:
```
ะะพะดะบะปััะตะฝะพ ะบ ะฑะฐะทะต ะดะฐะฝะฝัั SQLite
โ ะะดะผะธะฝ ะฐะบะบะฐัะฝั ัะพะทะดะฐะฝ: admin@pahanbarber.ru / PahanAdmin2024!
โ ะกัะฐะฝะดะฐััะฝะพะต ัะฐัะฟะธัะฐะฝะธะต ัะพะทะดะฐะฝะพ
```

### 4๏ธโฃ ะัะธััะธัะต ะฑัะฐัะทะตั
ะะปั **ะบะฐะถะดะพะณะพ ะฑัะฐัะทะตัะฐ** ะณะดะต ะฒั ัะตััะธัะพะฒะฐะปะธ:
1. ะัะบัะพะนัะต DevTools (F12)
2. ะะตัะตะนะดะธัะต Application โ Clear Site Data
3. ะัะฑะตัะธัะต ะฒัั ะธ ะฝะฐะถะผะธัะต Clear

### 5๏ธโฃ ะัะพัะตััะธััะนัะต ั ะะะะะซะะ ะฑัะฐัะทะตัะฐะผะธ

**ะัะฐัะทะตั 1 (Chrome, Firefox ะธะปะธ Safari):**
```
1. ะัะบัะพะนัะต http://localhost:5173/login
2. ะะตะณะธัััะฐัะธั: email: user1@test.com, ะฟะฐัะพะปั: TestPass123!
3. F12 โ Console โ JSON.parse(localStorage.getItem('user'))
4. ะะะะะจะะขะ ID (ะฝะฐะฟัะธะผะตั: 2)
5. ะัะบัะพะนัะต http://localhost:5173/home
6. ะะฐะถะผะธัะต ะะะะะกะะขะฌะกะฏ ะธ ัะพะทะดะฐะนัะต ะทะฐะฟะธัั
```

**ะัะฐัะทะตั 2 (ะะะฃะะะ ะฑัะฐัะทะตั! Edge, Opera ะธะปะธ Safari):**
```
1. ะัะบัะพะนัะต http://localhost:5173/login
2. ะะตะณะธัััะฐัะธั: email: user2@test.com, ะฟะฐัะพะปั: TestPass123!
3. F12 โ Console โ JSON.parse(localStorage.getItem('user'))
4. ะะะะะจะะขะ ID (ะะะะะะ ะฑััั ะะะฃะะะ, ะฝะฐะฟัะธะผะตั: 3)
5. ะัะบัะพะนัะต http://localhost:5173/home โ ะัะพัะธะปั โ ะะพะธ ะทะฐะฟะธัะธ
6. ะะะะะะซ ะฒะธะดะตัั ะขะะะฌะะ ัะฒะพะธ ะทะฐะฟะธัะธ, ะะ ะฒะธะดะตัั ะทะฐะฟะธัะธ user1@test.com
```

โ๏ธ **ะะะะะ: ะญัะพ ะะะะะซะ ะะะะฃะะะะซ, ะฐ ะฝะต ัะฐะทะฝัะต ะฒะบะปะฐะดะบะธ ะพะดะฝะพะณะพ ะฑัะฐัะทะตัะฐ!**
- ะัะฐัะทะตั 1 = Chrome
- ะัะฐัะทะตั 2 = Firefox ะะะ Edge
- ะัะฐัะทะตั 3 = Safari (ะตัะปะธ ะฝะฐ macOS)

---

## ๐ ะะกะะ ะะะะะะะะ ะะกะ ะะฉะ ะะกะขะฌ

### ะัะพะฒะตัะบะฐ 1: ID ะพะดะธะฝะฐะบะพะฒัะต ะฒ ัะฐะทะฝัั ะฑัะฐัะทะตัะฐั

**ะะธะฐะณะฝะพััะธะบะฐ:**
```
1. ะัะบัะพะนัะต ะพะบะฝะพ ัะตัะฒะตัะฐ (ะณะดะต ะทะฐะฟััะตะฝ node)
2. ะะพะปะถะฝั ะฒะธะดะตัั ะฟัะธ ัะตะณะธัััะฐัะธะธ:
   โ ะะตะณะธัััะฐัะธั: user1@test.com - ะะพะฒัะน ID: 2
   โ ะะตะณะธัััะฐัะธั: user2@test.com - ะะพะฒัะน ID: 3

3. ะัะปะธ ะพะฑะฐ ะฟะพะบะฐะทัะฒะฐัั ะพะดะธะฝะฐะบะพะฒัะน ID (ะฝะฐะฟัะธะผะตั ะพะฑะฐ 2):
   โ ะะะะะะะะ ะะ ะกะะะะะะ
```

**ะะตัะตะฝะธะต:**
```bash
cd server
node reset-db.js
node server.js
```

### ะัะพะฒะตัะบะฐ 2: ะะฐะฟะธัะธ ะฒะธะดะฝั ะฒัะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ

**ะะธะฐะณะฝะพััะธะบะฐ:**
```
1. ะ ะัะฐัะทะตัะต 2 ะพัะบัะพะนัะต DevTools โ Network
2. ะะตัะตะนะดะธัะต ะฝะฐ ะัะพัะธะปั
3. ะะฐะนะดะธัะต ะทะฐะฟัะพั GET /api/appointments
4. ะะพัะผะพััะธัะต Response - ะบะฐะบะธะต ID ะทะฐะฟะธัะตะน ัะฐะผ?
5. ะัะปะธ ะฒะธะดะธัะต ะทะฐะฟะธัะธ ะพั user1 - ะญะขะ ะะจะะะะ
```

**ะะตัะตะฝะธะต:**
ะะฝะฐัะธั ะฟัะพะฑะปะตะผะฐ ะฒ GET /api/appointments ะฝะฐ ัะตัะฒะตัะต.
ะัะพะฒะตัััะต ััะพ ัะฐะผ ะธัะฟะพะปัะทัะตััั `WHERE userId = ?` ั ะฟัะฐะฒะธะปัะฝัะผ ะฟะฐัะฐะผะตััะพะผ.

### ะัะพะฒะตัะบะฐ 3: ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะฝะต ะฟะพัะฒะปัะตััั

**ะะธะฐะณะฝะพััะธะบะฐ:**
```
1. ะัะธ ะปะพะณะธะฝะต ะฐะดะผะธะฝะฐ (admin@pahanbarber.ru)
2. ะัะบัะพะนัะต DevTools โ Network
3. ะะพัะผะพััะธัะต ะพัะฒะตั ะพั POST /api/login
4. ะะพะปะถะฝั ะฒะธะดะตัั: "role": "admin"
```

**ะะตัะตะฝะธะต:**
```javascript
// ะัะธ ะปะพะณะธะฝะต ะดะพะปะถะฝะพ ะฑััั:
res.json({
  token: "...",
  user: {
    id: 1,
    email: "admin@pahanbarber.ru",
    role: "admin"  // โ ะญะขะ ะะะะะะ ะะซะขะฌ!
  }
});
```

---

## ๐ ะะะะะะะะ ะกะะกะขะะฏะะะฏ ะะ

ะัะฟะพะปะฝะธัะต:
```bash
cd server
node diagnose-db.js
```

ะั ัะฒะธะดะธัะต:
```
๐ค ะะะะฌะะะะะขะะะ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
1. ID: 1 | Email: admin@pahanbarber.ru | Name: ะะดะผะธะฝ ะะฐะฝะตะปั | Role: admin
2. ID: 2 | Email: user1@test.com | Name: User One | Role: user
3. ID: 3 | Email: user2@test.com | Name: User Two | Role: user

๐ ะะะะะกะ (appointments):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
1. ะะฐะฟะธัั ID: 1 | User: user1@test.com | ะะฐัะฐ: 2026-02-15 18:00 | ะกัะฐััั: pending
2. ะะฐะฟะธัั ID: 2 | User: user2@test.com | ะะฐัะฐ: 2026-02-14 19:00 | ะกัะฐััั: pending

๐ ะะะะะะ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพะปัะทะพะฒะฐัะตะปะตะน ะฒ ะะ: 3
โ ID ัะฝะธะบะฐะปัะฝั (1, 2, 3)
โ ะะฐะฟะธัะตะน ะฒ ะะ: 2
โ ะัะต ะทะฐะฟะธัะธ ะฟัะธะฒัะทะฐะฝั ะบ ัััะตััะฒัััะธะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ

๐ ะะฐะฟะธัะธ ะฟะพ ะฟะพะปัะทะพะฒะฐัะตะปัะผ:
   admin@pahanbarber.ru: 0 ะทะฐะฟะธัะตะน
   user1@test.com: 1 ะทะฐะฟะธัะตะน
   user2@test.com: 1 ะทะฐะฟะธัะตะน
```

**ะัะพะฒะตัััะต:**
- โ ID ะฃะะะะะะฌะะซ (1, 2, 3, ะฐ ะฝะต 1, 2, 2)
- โ ะะฐะถะดัะน ะฟะพะปัะทะพะฒะฐัะตะปั ะธะผะตะตั ะกะะะ ะทะฐะฟะธัะธ
- โ ะะตั ะทะฐะฟะธัะตะน ะพั ะพะดะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ั ะดััะณะพะณะพ

---

## ๐พ ะะะะะะะะะะะ ะะ ะะะะะะขะ

ะัะบัะพะนัะต DevTools (F12) โ Console ะธ ะฒัะฟะพะปะฝะธัะต:

```javascript
// ะะพัะผะพััะตัั ัะตะบััะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั:
JSON.parse(localStorage.getItem('user'))

// ะะพัะผะพััะตัั ะฒัั localStorage:
console.log(localStorage)

// ะัะธััะธัั localStorage:
localStorage.clear()

// ะััะปะตะถะธะฒะฐัั ะธะทะผะตะฝะตะฝะธั ะฟัะธ ะปะพะณะธะฝะต:
// ะกะผะพััะธัะต ะฐะฒัะพะผะฐัะธัะตัะบะธะต ะปะพะณะธ ะฒะธะดะฐ:
// ๐ STORAGE STATE: ...
// ๐ CURRENT STORAGE STATE
```

---

## ๐ ะงะะะฃะ ะะะฏ ะคะะะะะฌะะะ ะะะะะะะะ

- [ ] ะกะตัะฒะตั ะทะฐะฟััะตะฝ ะฑะตะท ะพัะธะฑะพะบ
- [ ] ะะ ะฟะตัะตัะพะทะดะฐะฝะฐ (ะตัะปะธ ะฑัะปะฐ ะพัะธะฑะบะฐ)
- [ ] ะะฒะฐ ะะะะะซะฅ ะฑัะฐัะทะตัะฐ ะธัะฟะพะปัะทััััั ะดะปั ัะตััะฐ
- [ ] ะะฒะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะทะฐัะตะณะธัััะธัะพะฒะฐะฝั ั ัะฐะทะฝัะผะธ email'ะฐะผะธ
- [ ] ID ะฒ localStorage ะะะะะซะ ะฒ ะฑัะฐัะทะตัะต 1 ะธ ะฑัะฐัะทะตัะต 2
- [ ] ะะฐะฟะธัะธ ะฟะพะปัะทะพะฒะฐัะตะปั 1 ะะ ะฒะธะดะฝั ะฒ ะฑัะฐัะทะตัะต 2
- [ ] ะะดะผะธะฝ ะฟะพ email admin@pahanbarber.ru ะฟะพะฟะฐะดะฐะตั ะฝะฐ /admin
- [ ] ะะฑััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพะฟะฐะดะฐะตั ะฝะฐ /home
- [ ] ะกะตัะฒะตั ะปะพะณะธััะตั ัะฐะทะฝัะต ID ะฟัะธ ัะตะณะธัััะฐัะธะธ ะบะฐะถะดะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั

---

## ๐ ะะะะขะะะขะซ ะะะฏ ะะะะะขะะะ ะกะะฏะะ

ะัะปะธ ะฟะพัะปะต ััะธั ัะฐะณะพะฒ ะฟัะพะฑะปะตะผะฐ ะพััะฐะตััั, ะฟัะพะฒะตัััะต:

1. **ะัะฟะพะปัะทััััั ะปะธ ะดะตะนััะฒะธัะตะปัะฝะพ ะะะะะซะ ะฑัะฐัะทะตัั?**
   - ะะต ัะฐะทะฝัะต ะฒะบะปะฐะดะบะธ ะพะดะฝะพะณะพ ะฑัะฐัะทะตัะฐ!
   - ะะต ัะฐะทะฝัะต ะพะบะฝะฐ ะพะดะฝะพะณะพ ะฑัะฐัะทะตัะฐ!
   - ะะะะะซะ ะฟัะธะปะพะถะตะฝะธั (Chrome + Firefox + Safari, ะฝะฐะฟัะธะผะตั)

2. **ะัะธัะตะฝ ะปะธ ะบัั ะฑัะฐัะทะตัะฐ ะฟะพะปะฝะพัััั?**
   - DevTools โ Application โ Clear Site Data (ะะกะ)
   - ะะปะธ Ctrl+Shift+Delete ะธ Clear All Time

3. **ะะตัะตะทะฐะณััะถะตะฝ ะปะธ ัะตัะฒะตั ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน?**
   - ะะฐะบัะพะนัะต node.exe
   - ะะฐะฟัััะธัะต ะทะฐะฝะพะฒะพ node server.js

4. **ะัะพะฒะตัะตะฝะฐ ะปะธ ะะ?**
   - ะะฐะฟัััะธัะต: node diagnose-db.js
   - ID ะดะพะปะถะฝั ะฑััั ัะฝะธะบะฐะปัะฝั: 1, 2, 3, ะฐ ะฝะต 1, 2, 2

---

**ะัั ะดะพะปะถะฝะพ ัะฐะฑะพัะฐัั! ๐**
